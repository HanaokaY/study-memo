# 定数はレキシカル -> 継承チェーンと定数探索をする

```
class C
    CONST = "Hello, world"
end

$c = C.new

class D
    class << $c
        def say
            CONST
        end
    end
end

p $c.say

```

継承チェーンの図を書き出せば理解しやすい。
```

         C (CONSTを定義している)
         | 
$c -->  #$c (Cのインスタンスの特異クラス)
```

まず、定数はレキシカルスコープ内を探索するため、$cが特異メソッドを実行すると、特異メソッドが定義されているレキシカルスコープ内からCONSTを探す。<br>
しかし、レキシカルには定数は定義されていないため、次に継承チェーンでCONSTを探索する。<br>
上記の図の通り、Cクラスのインスタンスには、特異クラスが当然存在して、それのスーパークラスはCクラスだから定数の探索は成功する。

```
インスタンスの特異クラスのスーパークラスは、インスタンスのクラス
```